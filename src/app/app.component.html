<div class="chat-container">
  <h1>MQTT Chat</h1>

  @if (!conectado) {
    <div class="login-section">
      <label>Seu nome:</label>
      <input
        type="text"
        [(ngModel)]="username"
        placeholder="Digite seu nome"
        (keypress)="onKeyPress($event)"
      />
      <button (click)="conectar()">Conectar</button>
    </div>
  }

  @if (conectado) {
    <div class="chat-section">
      <p><strong>Conectado como:</strong> {{ username }}</p>

      <div class="mensagens-container">
        @for (mensagem of mensagens; track $index) {
          {{ mensagem }}
        }
      </div>

      <div class="input-section">
        <input
          type="text"
          [(ngModel)]="inputMensagem"
          placeholder="Digite sua mensagem"
          (keypress)="onKeyPress($event)"
        />
        <button (click)="enviarMensagem()">Enviar</button>
      </div>
    </div>
  }
</div>
