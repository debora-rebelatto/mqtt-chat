<div class="w-80 h-full bg-gray-900 border-r border-gray-700 flex flex-col">
  <!-- Header com Toggle Buttons -->
  <div class="p-3 border-b border-gray-700">
    <div class="flex flex-col gap-1">
      <toggle-button [isActive]="activeView === 'chat'" (onClick)="onViewChange('chat')">
        <lucide-icon [img]="MessageCircle" class="w-4 h-4"></lucide-icon>
        {{ 'CONVERSATIONS' | translate }}
      </toggle-button>

      <toggle-button
        [isActive]="activeView === 'available-users'"
        (onClick)="onViewChange('available-users')"
      >
        <lucide-icon [img]="UserIcon" class="w-4 h-4"></lucide-icon>
        {{ 'AVAILABLE_USERS' | translate }}
      </toggle-button>

      <toggle-button
        [isActive]="activeView === 'available-groups'"
        (onClick)="onViewChange('available-groups')"
      >
        <lucide-icon [img]="UsersRound" class="w-4 h-4"></lucide-icon>
        {{ 'AVAILABLE_GROUPS' | translate }}
      </toggle-button>
    </div>
  </div>

  <!-- Content Area -->
  <div
    class="flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-transparent"
  >
    @if (activeView === 'chat') {
      <user-list />
      <group-list />
    }

    @if (activeView === 'available-users') {
      <available-users />
    }

    @if (activeView === 'available-groups') {
      <available-groups />
    }
  </div>

  <group-modal
    [showModal]="showCreateGroupModal"
    [newGroupName]="newGroupName"
    (modalClose)="onModalClose()"
    (groupCreate)="onModalGroupCreate()"
  />
</div>
