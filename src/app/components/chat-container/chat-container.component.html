<div class="h-screen w-screen bg-gray-900 flex flex-col overflow-hidden">
  <app-page-header
    (usernameChange)="onUsernameChange($event)"
    (connectionChange)="onConnectionChange($event)"
  />

  <app-notifications-banner
    [notifications]="notifications"
    [showNotifications]="showNotifications"
    (acceptInvite)="acceptInvite($event)"
    (rejectInvite)="rejectInvite($event)"
  />

  @if (appState.connected) {
    <div class="flex flex-1 overflow-hidden">
      <app-sidebar
        class="h-full"
        [activeView]="activeView"
        [userChats]="userChats"
        [groupChats]="groupChats"
        [availableGroups]="availableGroups"
        (chatSelect)="onChatSelect($event)"
        (viewChange)="onViewChange($event)"
        (groupCreate)="onGroupCreate($event)"
        (joinGroup)="onJoinGroup($event)"
      />

      <chat-area
        class="flex-1 h-full"
        [selectedChat]="appState.selectedChat"
        [messages]="messages"
        [inputMensagem]="inputMensagem"
        [userStatus]="getSelectedUserStatus()"
        (messageSend)="onMessageSend()"
        (messageInputChange)="onMessageInputChange($event)"
        (keyPress)="onKeyPress($event)"
      />
    </div>
  }
</div>
